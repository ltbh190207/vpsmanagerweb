<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Share Free - VPS Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>🎁 Share Free</h1>
        <p>Công cụ và API miễn phí cho cộng đồng</p>

        <div style="display: flex; gap: 20px; margin: 30px 0; justify-content: center; flex-wrap: wrap;">
            <button class="btn" onclick="showSection('tools')" style="width: auto;">🛠️ Tool Free</button>
            <button class="btn btn-secondary" onclick="showSection('apis')" style="width: auto;">🔌 API Free</button>
        </div>

        <!-- Tool Free Section -->
        <div id="tools-section" style="display: none;">
            <h2>🛠️ Danh sách Tool Free</h2>
            <div id="tools-list"></div>
        </div>

        <!-- API Free Section -->
        <div id="apis-section" style="display: none;">
            <h2>🔌 Danh sách API Free</h2>
            <div id="apis-list"></div>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="index.html">← Quay về Trang chủ</a>
        </div>
    </div>

    <!-- Modal for API Details -->
    <div id="api-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modal-title"></h2>
            <p id="modal-description"></p>
            <div style="background: #f5f5f5; padding: 15px; border-radius: 10px; margin: 20px 0;">
                <code id="modal-api-url" style="word-break: break-all; color: #333;"></code>
            </div>
            <button class="btn" onclick="copyAPI()">📋 Copy API</button>
        </div>
    </div>

    <footer>
        <a href="https://facebook.com" target="_blank">📘 Facebook</a>
        <a href="https://youtube.com" target="_blank">▶️ YouTube</a>
        <a href="https://t.me" target="_blank">✈️ Telegram</a>
        <a href="mailto:admin@gmail.com">📧 Gmail</a>
    </footer>

    <script type="module" src="script.js"></script>
    <script>
        // Sample data - in production, load from Firebase
        const tools = [
            {
                name: "VPS Auto Installer",
                description: "Công cụ cài đặt tự động VPS với nhiều tùy chọn",
                downloadLink: "https://example.com/tool1.zip"
            },
            {
                name: "Key Generator",
                description: "Tạo key ngẫu nhiên bảo mật cao",
                downloadLink: "https://example.com/tool2.zip"
            }
        ];

        const apis = [
            {
                name: "Check IP API",
                description: "API kiểm tra địa chỉ IP và thông tin liên quan",
                url: "https://api.example.com/checkip?ip={IP_ADDRESS}"
            },
            {
                name: "Weather API",
                description: "Lấy thông tin thời tiết theo vị trí",
                url: "https://api.example.com/weather?location={LOCATION}"
            },
            {
                name: "Currency Exchange API",
                description: "Tỷ giá hối đoái theo thời gian thực",
                url: "https://api.example.com/exchange?from={FROM}&to={TO}"
            }
        ];

        function showSection(section) {
            document.getElementById('tools-section').style.display = 'none';
            document.getElementById('apis-section').style.display = 'none';

            if (section === 'tools') {
                document.getElementById('tools-section').style.display = 'block';
                loadTools();
            } else if (section === 'apis') {
                document.getElementById('apis-section').style.display = 'block';
                loadAPIs();
            }
        }

        function loadTools() {
            const toolsList = document.getElementById('tools-list');
            toolsList.innerHTML = '';

            tools.forEach(tool => {
                const div = document.createElement('div');
                div.className = 'key-card';
                div.innerHTML = `
                    <h3 style="color: #667eea;">${tool.name}</h3>
                    <p>${tool.description}</p>
                    <a href="${tool.downloadLink}" class="btn" style="width: auto; margin-top: 10px;" target="_blank">📥 Tải Tool</a>
                `;
                toolsList.appendChild(div);
            });
        }

        function loadAPIs() {
            const apisList = document.getElementById('apis-list');
            apisList.innerHTML = '';

            apis.forEach((api, index) => {
                const div = document.createElement('div');
                div.className = 'key-card';
                div.style.cursor = 'pointer';
                div.innerHTML = `
                    <h3 style="color: #667eea;">${api.name}</h3>
                    <p>${api.description}</p>
                    <button class="btn" style="width: auto; margin-top: 10px;" onclick="showAPIModal(${index})">🔍 Xem API</button>
                `;
                apisList.appendChild(div);
            });
        }

        let currentAPI = '';

        function showAPIModal(index) {
            const api = apis[index];
            document.getElementById('modal-title').textContent = api.name;
            document.getElementById('modal-description').textContent = api.description;
            document.getElementById('modal-api-url').textContent = api.url;
            currentAPI = api.url;
            document.getElementById('api-modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('api-modal').style.display = 'none';
        }

        function copyAPI() {
            navigator.clipboard.writeText(currentAPI).then(() => {
                alert('✅ Đã copy API!');
            });
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('api-modal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>
