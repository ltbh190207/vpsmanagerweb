<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - VPS Manager</title>
    <link rel="stylesheet" href="style.css">
    
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, collection, addDoc, getDocs, getDoc, doc, setDoc, updateDoc, deleteDoc, Timestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        const firebaseConfig = {
            apiKey: "AIzaSyCe3V1JFEI9w3UoREuehqMx9gxtz-Yw1oc",
            authDomain: "vpsmanagerweb.firebaseapp.com",
            projectId: "vpsmanagerweb",
            storageBucket: "vpsmanagerweb.firebasestorage.app",
            messagingSenderId: "851393978130",
            appId: "1:851393978130:web:24fddef37a51f577565dcb",
            measurementId: "G-7H51LQGZV0"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        window.firebase = { 
            app, auth, db, 
            createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, 
            collection, addDoc, getDocs, getDoc, doc, setDoc, updateDoc, deleteDoc, Timestamp 
        };
    </script>
</head>
<body>
    <div class="container">
        <h1>ğŸ‘‘ Admin Dashboard</h1>
        <p>Quáº£n lÃ½ há»‡ thá»‘ng VPS Manager</p>
        
        <h2>ğŸ”— Cáº­p nháº­t Link Táº£i Tool</h2>
        <input type="text" id="download-link" placeholder="https://example.com/download">
        <button onclick="updateDownloadLink()">ğŸ’¾ Cáº­p nháº­t Link</button>
        
        <h2>ğŸ”‘ Táº¡o Key Má»›i</h2>
        <div class="form-grid">
            <div class="form-group">
                <label>Loáº¡i háº¿t háº¡n:</label>
                <select id="expiration-type" onchange="toggleExpirationType()">
                    <option value="none">VÄ©nh viá»…n</option>
                    <option value="date">Chá»n ngÃ y cá»¥ thá»ƒ</option>
                    <option value="duration">Thá»i gian sá»­ dá»¥ng</option>
                </select>
            </div>
        </div>
        
        <div id="date-input" style="display:none;">
            <input type="datetime-local" id="expiration-date">
        </div>
        
        <div id="duration-input" style="display:none; gap: 10px;">
            <input type="number" id="duration-value" placeholder="Sá»‘ lÆ°á»£ng" min="1" style="flex: 1;">
            <select id="duration-unit" style="flex: 1;">
                <option value="hours">Giá»</option>
                <option value="days">NgÃ y</option>
                <option value="months">ThÃ¡ng</option>
                <option value="years">NÄƒm</option>
            </select>
        </div>
        
        <button onclick="createKey()">âœ¨ Táº¡o Key</button>
        
        <h2>ğŸ“‹ Danh sÃ¡ch Keys</h2>
        <div id="key-list"></div>
        
        <h2>ğŸ‘¥ Quáº£n lÃ½ NgÆ°á»i dÃ¹ng</h2>
        <div id="user-list"></div>
        
        <div style="margin-top: 30px;">
            <button onclick="logout()" class="btn-secondary">ğŸšª ÄÄƒng xuáº¥t</button>
            <a href="admin.html" class="btn">â„¹ï¸ ThÃ´ng tin Admin</a>
        </div>
    </div>
    
    <footer>
        <a href="https://facebook.com" target="_blank">ğŸ“˜ Facebook</a>
        <a href="https://youtube.com" target="_blank">â–¶ï¸ YouTube</a>
        <a href="https://t.me" target="_blank">âœˆï¸ Telegram</a>
        <a href="mailto:admin@gmail.com">ğŸ“§ Gmail</a>
    </footer>
    
    <script src="script.js"></script>
</body>
</html>
